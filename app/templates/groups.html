{% extends "base.html" %}
  {% block content%}
  {%if success is defined %}
    <div class="alert alert-success alert-dismissable">
      <span class="sr-only">Success:</span>
      {{ success }}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>  
  {% endif %}
  {%if error is defined %}
    <div class="alert alert-danger alert-dismissable">
      <span class="sr-only">Error:</span>
      {{ error }}
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>  
  {% endif %}
    <form action="#" method="GET">
      <div class="input-group stylish-input-group">
          <input class="form-control" placeholder="Search" name="search" type="text">
          <span class="input-group-addon">
              <button type="submit" action="/group/">
                <span class="glyphicon glyphicon-search"></span>
              </button>
          </span>
      </div>
    </form>
  <table class="table">
    <thead>
      <tr>
        <th style="width: 80px">Name</th>
        <th style="width: 140px">Description</th>
        <th style="width: 70px">Join</th>
      </tr>
    </thead>
    <tbody>
      {%for group in groups%}
      <tr><td>{{group.group_name}}</td><td>{{group.description}}</td><td><button type="submit" class="btn btn-default" action="/join/{{group.group_id}}"><!--Join-->
        {% if username is defined %}
            {% if joined_group(username, group.group_id) %}
            Rate
            {% else %}
            Join
            {% endif %}
        {% endif %}
              </button></td></tr>
      {% endfor %}
      <!-- searches for all group and should give user option to join groups-->
    </tbody>
  </table>
  {% endblock %}
